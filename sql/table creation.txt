drop schema if exists MonsoonDB;
create schema if not exists MonsoonDB;

use MonsoonDB;


CREATE TABLE Staff(
	userID         	varchar(128),
	password	varchar(1000),
	staffName       varchar(100),
	staffOffice     varchar(50),
	staffPosition	varchar(50),
	CONSTRAINT StaffPK PRIMARY KEY (userid)
);


CREATE TABLE Product(
	productID	varchar(128),
	productName	varchar(128),
	productDesc	varchar(1000),
	productPrice	decimal(5,2),
	CONSTRAINT StaffPK PRIMARY KEY(productID)
);


CREATE TABLE Customer(
	name		varchar(128),
	email		varchar(200),
	points		decimal(5,2),
	password	varchar(128),
	number		int(10),
	photo 		mediumblob DEFAULT NULL,
	CONSTRAINT CustomerPK PRIMARY KEY(email)
);

CREATE TABLE Appointment(
    appointmentID int NOT NULL AUTO_INCREMENT UNIQUE,
	customerEmail		varchar(128),
	staffID			varchar(128),
	outletName		varchar(128),
	treatment		varchar(500),
	appointmentDate		date,
	appointmentStartTime	time,
	appointmentEndTime	time,	
	
	CONSTRAINT AppointmentPK PRIMARY KEY(appointmentID)
);

CREATE TABLE HairServices(
	hairService		varchar(128),
	duration		int(5),
	minCost			decimal(5,2),
	maxCost			decimal(5,2),
	loyaltyPoints		decimal(5,2),
	
	CONSTRAINT HairServicesPK PRIMARY KEY(hairService)
);


CREATE TABLE Outlet(
	outletName	varchar(128),
	outletAddress	varchar(1000),
	outletNumber	int(8),
	weekdayStart	time,
	weekdayEnd	time,
	weekendStart	time,
	weekendEnd	time,
	publicHolStart	time,
	publicHolEnd	time,
	CONSTRAINT OutletPK PRIMARY KEY(outletNumber)
);


CREATE TABLE OutletInventory(
	outletID		varchar(128),
	outletInventoryID	varchar(128),
	productName		varchar(128),
	productQuantity		int(5),
	Constraint OutletPK PRIMARY KEY(outletID,outletInventoryID),
	Constraint OutletFK FOREIGN KEY(outletID) REFERENCES Outlet(outletID)
);